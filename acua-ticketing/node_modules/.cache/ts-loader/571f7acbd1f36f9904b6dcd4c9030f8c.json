{"remainingRequest":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/babel-loader/lib/index.js!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/ts-loader/index.js??ref--13-2!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/vuetify-loader/lib/loader.js!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/views/Manager.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/views/Manager.vue","mtime":1568411105830},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/cache-loader/dist/cjs.js","mtime":1568411102678},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/babel-loader/lib/index.js","mtime":1568411102570},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/ts-loader/index.js","mtime":1568411104996},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/vuetify-loader/lib/loader.js","mtime":1568411105357},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/cache-loader/dist/cjs.js","mtime":1568411102678},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/vue-loader/lib/index.js","mtime":1568411105276}],"contextDependencies":[],"result":["import _classCallCheck from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport { __decorate } from \"tslib\";\nimport { Component, Vue } from 'vue-property-decorator';\nimport TicketCard from '@/components/TicketCard.vue';\nimport TicketQueue from '@/components/TicketQueue.vue';\nimport TicketCount from '@/components/TicketCount.vue';\nimport TicketLimit from '@/components/TicketLimit.vue';\nimport tickets from '@/store/modules/tickets';\nimport users from '@/store/modules/users';\n\nvar Manager =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(Manager, _Vue);\n\n  function Manager() {\n    var _this;\n\n    _classCallCheck(this, Manager);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Manager).apply(this, arguments));\n    _this.timer = 0;\n    _this.tickets = tickets;\n    _this.users = users;\n    _this.polling = undefined;\n    _this.countdown = undefined;\n    return _this;\n  }\n\n  _createClass(Manager, [{\n    key: \"mounted\",\n    value: function mounted() {\n      tickets.loadTickets();\n      tickets.ticketCount(this.users.user);\n      this.pollData();\n    }\n  }, {\n    key: \"beforeDestroy\",\n    value: function beforeDestroy() {\n      clearInterval(this.polling);\n      clearInterval(this.countdown);\n    }\n  }, {\n    key: \"pollData\",\n    value: function pollData() {\n      var _this2 = this;\n\n      this.polling = setInterval(function () {\n        tickets.ticketCount(_this2.users.user);\n\n        if (tickets.xtickets.length < 12) {\n          tickets.loadTickets();\n        }\n      }, 11000);\n      this.countdown = setInterval(function () {\n        if (_this2.timer === 100) {\n          return _this2.timer = 0;\n        }\n\n        _this2.timer += 10;\n      }, 1000);\n    }\n  }, {\n    key: \"loader\",\n    get: function get() {\n      return tickets.ticketLoader;\n    }\n  }]);\n\n  return Manager;\n}(Vue);\n\nManager = __decorate([Component({\n  components: {\n    TicketQueue: TicketQueue,\n    TicketCount: TicketCount,\n    TicketCard: TicketCard,\n    TicketLimit: TicketLimit\n  }\n})], Manager);\nexport default Manager;",{"version":3,"sources":["/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/vuetify-loader/lib/loader.js!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/views/Manager.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;AA8BA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,OAAO,UAAP,MAAuB,6BAAvB;AACA,OAAO,WAAP,MAAwB,8BAAxB;AACA,OAAO,WAAP,MAAwB,8BAAxB;AACA,OAAO,WAAP,MAAwB,8BAAxB;AACA,OAAO,OAAP,MAAoB,yBAApB;AACA,OAAO,KAAP,MAAkB,uBAAlB;;AAUA,IAAqB,OAArB;AAAA;AAAA;AAAA;;AAAA,qBAAA;AAAA;;AAAA;;;AACS,UAAA,KAAA,GAAgB,CAAhB;AACC,UAAA,OAAA,GAAW,OAAX;AACA,UAAA,KAAA,GAAQ,KAAR;AACA,UAAA,OAAA,GAA8B,SAA9B;AACA,UAAA,SAAA,GAAgC,SAAhC;AALV;AAqCC;;AArCD;AAAA;AAAA,8BAWgB;AACZ,MAAA,OAAO,CAAC,WAAR;AACA,MAAA,OAAO,CAAC,WAAR,CAAoB,KAAK,KAAL,CAAW,IAA/B;AACA,WAAK,QAAL;AACD;AAfH;AAAA;AAAA,oCAiBsB;AAClB,MAAA,aAAa,CAAC,KAAK,OAAN,CAAb;AACA,MAAA,aAAa,CAAC,KAAK,SAAN,CAAb;AACD;AApBH;AAAA;AAAA,+BAsBkB;AAAA;;AACd,WAAK,OAAL,GAAe,WAAW,CAAC,YAAK;AAC9B,QAAA,OAAO,CAAC,WAAR,CAAoB,MAAI,CAAC,KAAL,CAAW,IAA/B;;AACA,YAAI,OAAO,CAAC,QAAR,CAAiB,MAAjB,GAA0B,EAA9B,EAAkC;AAChC,UAAA,OAAO,CAAC,WAAR;AACD;AACF,OALyB,EAKvB,KALuB,CAA1B;AAOA,WAAK,SAAL,GAAiB,WAAW,CAAC,YAAK;AAChC,YAAI,MAAI,CAAC,KAAL,KAAe,GAAnB,EAAwB;AACtB,iBAAQ,MAAI,CAAC,KAAL,GAAa,CAArB;AACD;;AACD,QAAA,MAAI,CAAC,KAAL,IAAc,EAAd;AACD,OAL2B,EAKzB,IALyB,CAA5B;AAMD;AApCH;AAAA;AAAA,wBAOmB;AACf,aAAO,OAAO,CAAC,YAAf;AACD;AATH;;AAAA;AAAA,EAAqC,GAArC,CAAA;;AAAqB,OAAO,GAAA,UAAA,CAAA,CAR3B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,WAAW,EAAX,WADU;AAEV,IAAA,WAAW,EAAX,WAFU;AAGV,IAAA,UAAU,EAAV,UAHU;AAIV,IAAA,WAAW,EAAX;AAJU;AADH,CAAD,CAQkB,CAAA,EAAP,OAAO,CAAP;eAAA,O","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport TicketCard from '@/components/TicketCard.vue'\r\nimport TicketQueue from '@/components/TicketQueue.vue'\r\nimport TicketCount from '@/components/TicketCount.vue'\r\nimport TicketLimit from '@/components/TicketLimit.vue'\r\nimport tickets from '@/store/modules/tickets'\r\nimport users from '@/store/modules/users'\r\n\r\n@Component({\r\n  components: {\r\n    TicketQueue,\r\n    TicketCount,\r\n    TicketCard,\r\n    TicketLimit\r\n  }\r\n})\r\nexport default class Manager extends Vue {\r\n  public timer: number = 0\r\n  private tickets  = tickets\r\n  private users = users\r\n  private polling: number | undefined = undefined\r\n  private countdown: number | undefined = undefined\r\n\r\n  public get loader(): boolean {\r\n    return tickets.ticketLoader;\r\n  }\r\n\r\n  public mounted(): void {\r\n    tickets.loadTickets()\r\n    tickets.ticketCount(this.users.user)\r\n    this.pollData()\r\n  }\r\n\r\n  public beforeDestroy(): void {\r\n    clearInterval(this.polling)\r\n    clearInterval(this.countdown)\r\n  }\r\n\r\n  private pollData(): void {\r\n    this.polling = setInterval(() => {\r\n      tickets.ticketCount(this.users.user)\r\n      if (tickets.xtickets.length < 12) {\r\n        tickets.loadTickets()\r\n      }\r\n    }, 11000)\r\n\r\n    this.countdown = setInterval(() => {\r\n      if (this.timer === 100) {\r\n        return (this.timer = 0)\r\n      }\r\n      this.timer += 10\r\n    }, 1000)\r\n  }\r\n}\r\n"],"sourceRoot":""}]}