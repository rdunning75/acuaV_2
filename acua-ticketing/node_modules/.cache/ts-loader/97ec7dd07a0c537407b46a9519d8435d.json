{"remainingRequest":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/babel-loader/lib/index.js!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/ts-loader/index.js??ref--13-2!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/store/modules/users.ts","dependencies":[{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/store/modules/users.ts","mtime":1568411105829},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport { __decorate } from \"tslib\";\nimport { getModule, Module, MutationAction, VuexModule, Mutation, Action } from 'vuex-module-decorators';\nimport store from '@/store'; // import { loginUser } from '@/services/FakeUserService'\n\nimport { loginUser, logoutUser as _logoutUser } from \"../api\";\n\nvar UsersModule =\n/*#__PURE__*/\nfunction (_VuexModule) {\n  _inherits(UsersModule, _VuexModule);\n\n  function UsersModule() {\n    var _this;\n\n    _classCallCheck(this, UsersModule);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UsersModule).apply(this, arguments));\n    _this.user = null;\n    return _this;\n  }\n\n  _createClass(UsersModule, [{\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(userSubmit) {\n        var user;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return loginUser(userSubmit);\n\n              case 2:\n                user = _context.sent;\n                return _context.abrupt(\"return\", {\n                  user: user\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function login(_x) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      this.user = null;\n    }\n  }, {\n    key: \"logoutUser\",\n    value: function () {\n      var _logoutUser2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_ref) {\n        var user;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user = _ref.user;\n                _context2.next = 3;\n                return _logoutUser(user);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function logoutUser(_x2) {\n        return _logoutUser2.apply(this, arguments);\n      }\n\n      return logoutUser;\n    }()\n  }, {\n    key: \"currUser\",\n    get: function get() {\n      return this.user;\n    }\n  }, {\n    key: \"username\",\n    get: function get() {\n      if (this.user !== null) {\n        return this.user.username;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      if (this.user !== null) {\n        return this.user.window;\n      }\n\n      return null;\n    }\n  }]);\n\n  return UsersModule;\n}(VuexModule);\n\n__decorate([MutationAction], UsersModule.prototype, \"login\", null);\n\n__decorate([Mutation], UsersModule.prototype, \"logout\", null);\n\n__decorate([Action], UsersModule.prototype, \"logoutUser\", null);\n\nUsersModule = __decorate([Module({\n  namespaced: true,\n  name: 'users',\n  store: store,\n  dynamic: true\n})], UsersModule);\nexport default getModule(UsersModule);",{"version":3,"sources":["/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/store/modules/users.ts"],"names":[],"mappings":";;;;;;;;AAAA,SACE,SADF,EAEE,MAFF,EAGE,cAHF,EAIE,UAJF,EAKE,QALF,EAME,MANF,QAOO,wBAPP;AAQA,OAAO,KAAP,MAAkB,SAAlB,C,CAEA;;AACA,SAAS,SAAT,EAAoB,UAAU,IAAV,WAApB;;AAQA,IAAM,WAAN;AAAA;AAAA;AAAA;;AAAA,yBAAA;AAAA;;AAAA;;;AACS,UAAA,IAAA,GAAoB,IAApB;AADT;AAsCC;;AAtCD;AAAA;AAAA;AAAA;AAAA;AAAA,+CAIqB,UAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKuB,SAAS,CAAC,UAAD,CALhC;;AAAA;AAKU,gBAAA,IALV;AAAA,iDAMW;AAAE,kBAAA,IAAI,EAAJ;AAAF,iBANX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,6BAUe;AACX,WAAK,IAAL,GAAY,IAAZ;AACD;AAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAe4B,gBAAA,IAf5B,QAe4B,IAf5B;AAAA;AAAA,uBAgBU,WAAU,CAAC,IAAD,CAhBpB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBAmBqB;AACjB,aAAO,KAAK,IAAZ;AACD;AArBH;AAAA;AAAA,wBAuBqB;AACjB,UAAI,KAAK,IAAL,KAAc,IAAlB,EAAwB;AACtB,eAAO,KAAK,IAAL,CAAU,QAAjB;AACD;;AAED,aAAO,IAAP;AACD;AA7BH;AAAA;AAAA,wBA+BmB;AACf,UAAI,KAAK,IAAL,KAAc,IAAlB,EAAwB;AACtB,eAAO,KAAK,IAAL,CAAU,MAAjB;AACD;;AAED,aAAO,IAAP;AACD;AArCH;;AAAA;AAAA,EAA0B,UAA1B,CAAA;;AAIE,UAAA,CAAA,CADC,cACD,CAAA,E,qBAAA,E,OAAA,EAGC,IAHD,CAAA;;AAMA,UAAA,CAAA,CADC,QACD,CAAA,E,qBAAA,E,QAAA,EAEC,IAFD,CAAA;;AAKA,UAAA,CAAA,CADC,MACD,CAAA,E,qBAAA,E,YAAA,EAEC,IAFD,CAAA;;AAfI,WAAW,GAAA,UAAA,CAAA,CANhB,MAAM,CAAC;AACN,EAAA,UAAU,EAAE,IADN;AAEN,EAAA,IAAI,EAAE,OAFA;AAGN,EAAA,KAAK,EAAL,KAHM;AAIN,EAAA,OAAO,EAAE;AAJH,CAAD,CAMU,CAAA,EAAX,WAAW,CAAX;AAwCN,eAAe,SAAS,CAAC,WAAD,CAAxB","sourcesContent":["import {\r\n  getModule,\r\n  Module,\r\n  MutationAction,\r\n  VuexModule,\r\n  Mutation,\r\n  Action\r\n} from 'vuex-module-decorators'\r\nimport store from '@/store'\r\nimport { User, UserSubmit } from '../models'\r\n// import { loginUser } from '@/services/FakeUserService'\r\nimport { loginUser, logoutUser } from '../api'\r\n\r\n@Module({\r\n  namespaced: true,\r\n  name: 'users',\r\n  store,\r\n  dynamic: true\r\n})\r\nclass UsersModule extends VuexModule {\r\n  public user: User | null = null\r\n\r\n  @MutationAction\r\n  public async login(userSubmit: UserSubmit) {\r\n    const user = await loginUser(userSubmit)\r\n    return { user }\r\n  }\r\n\r\n  @Mutation\r\n  public logout(): void {\r\n    this.user = null\r\n  }\r\n\r\n  @Action\r\n  public async logoutUser({ user }: any) {\r\n    await logoutUser(user)\r\n  }\r\n\r\n  public get currUser(): User | null {\r\n    return this.user\r\n  }\r\n\r\n  public get username(): string | null {\r\n    if (this.user !== null) {\r\n      return this.user.username\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  public get window(): number | null {\r\n    if (this.user !== null) {\r\n      return this.user.window\r\n    }\r\n\r\n    return null\r\n  }\r\n}\r\n\r\nexport default getModule(UsersModule)\r\n"],"sourceRoot":""}]}