{"remainingRequest":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/babel-loader/lib/index.js!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/ts-loader/index.js??ref--13-2!/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/store/modules/tickets.ts","dependencies":[{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/store/modules/tickets.ts","mtime":1569018872413},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/cache-loader/dist/cjs.js","mtime":1568411102678},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/babel-loader/lib/index.js","mtime":1568411102570},{"path":"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/ts-loader/index.js","mtime":1568411104996}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport { __decorate } from \"tslib\";\nimport { getModule, Module, Mutation, Action, MutationAction, VuexModule } from 'vuex-module-decorators';\nimport store from '@/store';\nimport userModule from \"./users\"; // import { fetchTickets, removeTicket, strikeTicket, fetchTotal } from '@/services/FakeTicketService'\n\nimport { fetchTickets, removeTicket, strikeTicket as _strikeTicket, fetchTotal } from \"../api\";\n\nvar TicketsModule =\n/*#__PURE__*/\nfunction (_VuexModule) {\n  _inherits(TicketsModule, _VuexModule);\n\n  function TicketsModule() {\n    var _this;\n\n    _classCallCheck(this, TicketsModule);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TicketsModule).apply(this, arguments));\n    _this.tickets = [];\n    _this.count = 0;\n    _this.limit = 4;\n    _this.ticketLoader = false;\n    return _this;\n  }\n\n  _createClass(TicketsModule, [{\n    key: \"loadTickets\",\n    value: function () {\n      var _loadTickets = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var tickets;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetchTickets(userModule.user);\n\n              case 2:\n                tickets = _context.sent;\n                return _context.abrupt(\"return\", {\n                  tickets: tickets\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function loadTickets() {\n        return _loadTickets.apply(this, arguments);\n      }\n\n      return loadTickets;\n    }()\n  }, {\n    key: \"ticketCount\",\n    value: function () {\n      var _ticketCount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(user) {\n        var count;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetchTotal(user);\n\n              case 2:\n                count = _context2.sent;\n                return _context2.abrupt(\"return\", {\n                  count: count\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function ticketCount(_x) {\n        return _ticketCount.apply(this, arguments);\n      }\n\n      return ticketCount;\n    }()\n  }, {\n    key: \"strikeTicket\",\n    value: function () {\n      var _strikeTicket2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(_ref) {\n        var id, ticket;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                id = _ref.id, ticket = _ref.ticket;\n                _context3.next = 3;\n                return _strikeTicket(id, ticket);\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function strikeTicket(_x2) {\n        return _strikeTicket2.apply(this, arguments);\n      }\n\n      return strikeTicket;\n    }()\n  }, {\n    key: \"resolve\",\n    value: function () {\n      var _resolve = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(_ref2) {\n        var id, ticket;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                id = _ref2.id, ticket = _ref2.ticket;\n                _context4.next = 3;\n                return removeTicket(id, ticket);\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function resolve(_x3) {\n        return _resolve.apply(this, arguments);\n      }\n\n      return resolve;\n    }()\n  }, {\n    key: \"setLoader\",\n    value: function setLoader() {\n      this.ticketLoader = !this.ticketLoader;\n    }\n  }, {\n    key: \"setLimit\",\n    value: function setLimit(limit) {\n      this.limit = limit;\n    }\n  }, {\n    key: \"xtickets\",\n    get: function get() {\n      return this.tickets.slice(0, this.limit);\n    }\n  }, {\n    key: \"firstTicket\",\n    get: function get() {\n      return this.tickets[0];\n    }\n  }]);\n\n  return TicketsModule;\n}(VuexModule);\n\n__decorate([MutationAction], TicketsModule.prototype, \"loadTickets\", null);\n\n__decorate([MutationAction], TicketsModule.prototype, \"ticketCount\", null);\n\n__decorate([Action], TicketsModule.prototype, \"strikeTicket\", null);\n\n__decorate([Action], TicketsModule.prototype, \"resolve\", null);\n\n__decorate([Mutation], TicketsModule.prototype, \"setLoader\", null);\n\n__decorate([Mutation], TicketsModule.prototype, \"setLimit\", null);\n\nTicketsModule = __decorate([Module({\n  namespaced: true,\n  name: 'tickets',\n  store: store,\n  dynamic: true\n})], TicketsModule);\nexport default getModule(TicketsModule);",{"version":3,"sources":["/Users/DrSamsonnite/Desktop/CS Course materials/Senior DEsign/acuaV_2/acua-ticketing/src/store/modules/tickets.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  getModule,\r\n  Module,\r\n  Mutation,\r\n  Action,\r\n  MutationAction,\r\n  VuexModule\r\n} from 'vuex-module-decorators'\r\nimport store from '@/store'\r\nimport { Ticket } from '../models'\r\nimport userModule from './users'\r\n// import { fetchTickets, removeTicket, strikeTicket, fetchTotal } from '@/services/FakeTicketService'\r\nimport { fetchTickets, removeTicket, strikeTicket, fetchTotal } from '../api'\r\n\r\n@Module({\r\n  namespaced: true,\r\n  name: 'tickets',\r\n  store,\r\n  dynamic: true\r\n})\r\nclass TicketsModule extends VuexModule {\r\n  public tickets: Ticket[] = []\r\n  public count: number = 0\r\n  public limit: number = 4\r\n  public ticketLoader: boolean = false\r\n\r\n  @MutationAction\r\n  public async loadTickets() {\r\n    const tickets: Ticket[] = await fetchTickets(userModule.user)\r\n    return { tickets }\r\n  }\r\n\r\n  @MutationAction\r\n  public async ticketCount(user: any) {\r\n    const count: number = await fetchTotal(user)\r\n    return { count }\r\n  }\r\n\r\n  @Action\r\n  public async strikeTicket({ id, ticket}: {id: number, ticket: Ticket}) {\r\n    await strikeTicket(id, ticket)\r\n  }\r\n\r\n  @Action\r\n  public async resolve({ id, ticket}: {id: number, ticket: Ticket}) {\r\n    await removeTicket(id, ticket)\r\n  }\r\n\r\n  @Mutation\r\n  public setLoader() {\r\n    this.ticketLoader = !this.ticketLoader\r\n  }\r\n\r\n  @Mutation\r\n  public setLimit(limit: number) {\r\n    this.limit = limit\r\n  }\r\n\r\n  public get xtickets(): Ticket[] {\r\n    return this.tickets.slice(0, this.limit)\r\n  }\r\n\r\n  public get firstTicket(): Ticket {\r\n    return this.tickets[0]\r\n  }\r\n}\r\n\r\nexport default getModule(TicketsModule)\r\n"],"sourceRoot":""}]}